<div class="feedback-toast-container" role="region" aria-live="polite" aria-atomic="true">
  @for (toast of toasts(); track toast.id) {
    <div class="feedback-toast" [class.success]="toast.type === 'success'" [class.error]="toast.type === 'error'" [class.warning]="toast.type === 'warning'" [class.info]="toast.type === 'info'">
      <div class="toast-icon" aria-hidden="true">
        <lucide-icon [img]="iconFor(toast.type)" [size]="18"></lucide-icon>
      </div>
      <div class="toast-body">
        @if (toast.title) {
          <p class="toast-title">{{ toast.title }}</p>
        }
        <p class="toast-message">{{ toast.message }}</p>
        @if (toast.detail) {
          <p class="toast-detail">{{ toast.detail }}</p>
        }
        @if (toast.action) {
          <button type="button" class="toast-action" (click)="handleAction(toast)">{{ toast.action.label }}</button>
        }
      </div>
      <button type="button" class="toast-close" (click)="dismiss(toast.id)" aria-label="Dismiss notification">
        <lucide-icon [img]="CloseIcon" [size]="14"></lucide-icon>
      </button>
    </div>
  }
</div>
