import{a as y,b as f,c as S,d as T,e as A,f as L,g as D,l as N,m as U}from"./chunk-H23B6YYR.js";import{b as E,c as I}from"./chunk-XXIQFCOC.js";import{a as B}from"./chunk-NCTN2JFS.js";import{$ as _,F as x,L as e,P as v,U as c,Y as l,Z as t,_ as n,ba as b,ca as M,ea as h,fa as o,ga as d,ha as m,ja as a,ka as p,pa as P,ra as C,wa as O,xa as w,y as u}from"./chunk-UABBN7TV.js";function H(i,s){if(i&1&&(t(0,"div",28)(1,"span",29),o(2,"\u26A0\uFE0F"),n(),t(3,"span"),o(4),n()()),i&2){let g=M();e(4),d(g.errorMessage())}}function R(i,s){i&1&&(t(0,"div",30),o(1),a(2,"translate"),n()),i&2&&(e(),m(" ",p(2,1,"AUTH.EMAIL_REQUIRED")," "))}function z(i,s){i&1&&(t(0,"div",30),o(1),a(2,"translate"),n()),i&2&&(e(),m(" ",p(2,1,"AUTH.EMAIL_INVALID")," "))}function G(i,s){i&1&&(t(0,"span"),o(1,"\u{1F441}\uFE0F"),n())}function q(i,s){i&1&&(t(0,"span"),o(1,"\u{1F648}"),n())}function W(i,s){i&1&&(t(0,"div",30),o(1),a(2,"translate"),n()),i&2&&(e(),m(" ",p(2,1,"AUTH.PASSWORD_REQUIRED")," "))}function j(i,s){i&1&&(t(0,"div",30),o(1),a(2,"translate"),n()),i&2&&(e(),m(" ",p(2,1,"AUTH.PASSWORD_MIN_LENGTH")," "))}function V(i,s){i&1&&(t(0,"span"),o(1),a(2,"translate"),n()),i&2&&(e(),d(p(2,1,"AUTH.LOGIN")))}function Y(i,s){i&1&&(t(0,"span",31),_(1,"span",32),o(2),a(3,"translate"),n()),i&2&&(e(2),m(" ",p(3,1,"COMMON.LOADING")," "))}var k=class i{fb=u(N);router=u(O);supabase=u(B);loginForm;isLoading=x(!1);errorMessage=x("");showPassword=x(!1);constructor(){this.loginForm=this.fb.group({email:["",[f.required,f.email]],password:["",[f.required,f.minLength(6)]]})}async onSubmit(){if(!this.loginForm.invalid){this.isLoading.set(!0);try{let{email:s,password:g}=this.loginForm.value;await this.supabase.signIn(s,g),this.router.navigate(["/dashboard"])}catch(s){this.errorMessage.set(s.message||"An error occurred during login.")}finally{this.isLoading.set(!1)}}}togglePassword(){this.showPassword.set(!this.showPassword())}hasError(s,g){let r=this.loginForm.get(s);return r?r.hasError(g)&&(r.dirty||r.touched):!1}static \u0275fac=function(g){return new(g||i)};static \u0275cmp=v({type:i,selectors:[["app-login"]],decls:73,vars:55,consts:[[1,"login-container"],[1,"login-form-section"],[1,"login-header"],[1,"logo"],[1,"title"],[1,"subtitle"],[1,"login-form",3,"ngSubmit","formGroup"],["class","error-alert",4,"ngIf"],[1,"form-group"],["for","email"],["id","email","type","email","formControlName","email","placeholder","name@example.com",1,"form-input"],["class","error-message",4,"ngIf"],["for","password"],[1,"password-wrapper"],["id","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-input",3,"type"],["type","button",1,"password-toggle",3,"click"],[4,"ngIf"],[1,"forgot-password"],["routerLink","/auth/forgot-password"],["type","submit",1,"submit-button",3,"disabled"],["class","loading",4,"ngIf"],[1,"signup-link"],["routerLink","/auth/register"],[1,"branding-section"],[1,"branding-content"],[1,"features"],[1,"feature"],[1,"icon"],[1,"error-alert"],[1,"error-icon"],[1,"error-message"],[1,"loading"],[1,"spinner"]],template:function(g,r){g&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),o(4),a(5,"translate"),n(),t(6,"h2",4),o(7),a(8,"translate"),n(),t(9,"p",5),o(10),a(11,"translate"),n()(),t(12,"form",6),b("ngSubmit",function(){return r.onSubmit()}),c(13,H,5,1,"div",7),t(14,"div",8)(15,"label",9),o(16),a(17,"translate"),n(),_(18,"input",10),c(19,R,3,3,"div",11)(20,z,3,3,"div",11),n(),t(21,"div",8)(22,"label",12),o(23),a(24,"translate"),n(),t(25,"div",13),_(26,"input",14),t(27,"button",15),b("click",function(){return r.togglePassword()}),c(28,G,2,0,"span",16)(29,q,2,0,"span",16),n()(),c(30,W,3,3,"div",11)(31,j,3,3,"div",11),n(),t(32,"div",17)(33,"a",18),o(34),a(35,"translate"),n()(),t(36,"button",19),c(37,V,3,3,"span",16)(38,Y,4,3,"span",20),n(),t(39,"div",21)(40,"p"),o(41),a(42,"translate"),t(43,"a",22),o(44),a(45,"translate"),n()()()()(),t(46,"div",23)(47,"div",24)(48,"h2"),o(49),a(50,"translate"),n(),t(51,"p"),o(52),a(53,"translate"),n(),t(54,"div",25)(55,"div",26)(56,"span",27),o(57,"\u2713"),n(),t(58,"span"),o(59),a(60,"translate"),n()(),t(61,"div",26)(62,"span",27),o(63,"\u2713"),n(),t(64,"span"),o(65),a(66,"translate"),n()(),t(67,"div",26)(68,"span",27),o(69,"\u2713"),n(),t(70,"span"),o(71),a(72,"translate"),n()()()()()()),g&2&&(e(4),m("\u{1F3B5} ",p(5,29,"APP_NAME")),e(3),d(p(8,31,"AUTH.WELCOME_BACK")),e(3),d(p(11,33,"AUTH.LOGIN_SUBTITLE")),e(2),l("formGroup",r.loginForm),e(),l("ngIf",r.errorMessage()),e(3),d(p(17,35,"AUTH.EMAIL")),e(2),h("error",r.hasError("email","required")||r.hasError("email","email")),e(),l("ngIf",r.hasError("email","required")),e(),l("ngIf",r.hasError("email","email")&&!r.hasError("email","required")),e(3),d(p(24,37,"AUTH.PASSWORD")),e(3),h("error",r.hasError("password","required")||r.hasError("password","minlength")),l("type",r.showPassword()?"text":"password"),e(2),l("ngIf",!r.showPassword()),e(),l("ngIf",r.showPassword()),e(),l("ngIf",r.hasError("password","required")),e(),l("ngIf",r.hasError("password","minlength")&&!r.hasError("password","required")),e(3),m(" ",p(35,39,"AUTH.FORGOT_PASSWORD")," "),e(2),l("disabled",r.isLoading()),e(),l("ngIf",!r.isLoading()),e(),l("ngIf",r.isLoading()),e(3),m(" ",p(42,41,"AUTH.NO_ACCOUNT")," "),e(3),d(p(45,43,"AUTH.SIGN_UP")),e(5),d(p(50,45,"AUTH.BRANDING_TITLE")),e(3),d(p(53,47,"AUTH.BRANDING_DESCRIPTION")),e(7),d(p(60,49,"AUTH.FEATURE_1")),e(6),d(p(66,51,"AUTH.FEATURE_2")),e(6),d(p(72,53,"AUTH.FEATURE_3")))},dependencies:[C,P,U,A,y,S,T,D,L,I,w,E],styles:['@charset "UTF-8";.login-container[_ngcontent-%COMP%]{display:flex;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2)}.login-form-section[_ngcontent-%COMP%]{flex:1;max-width:480px;background:#fff;padding:40px;display:flex;flex-direction:column;overflow-y:auto}@media(max-width:768px){.login-form-section[_ngcontent-%COMP%]{max-width:100%;padding:24px}}.login-header[_ngcontent-%COMP%]{margin-bottom:40px}.logo[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#6366f1;margin-bottom:24px}.title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#111827;margin-bottom:8px}.subtitle[_ngcontent-%COMP%]{font-size:16px;color:#6b7280}.login-form[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.error-alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;background:#fef2f2;border:1px solid #fecaca;border-radius:8px;color:#dc2626;font-size:14px;margin-bottom:24px;animation:_ngcontent-%COMP%_slideDown .3s ease}.error-icon[_ngcontent-%COMP%]{font-size:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#374151;margin-bottom:6px}.form-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;font-size:16px;border:1px solid #d1d5db;border-radius:8px;transition:all .2s}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#6366f1;box-shadow:0 0 0 3px #6366f11a}.form-input.error[_ngcontent-%COMP%]{border-color:#ef4444}.form-input.error[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #ef44441a}.form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.password-wrapper[_ngcontent-%COMP%]{position:relative}.password-toggle[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;font-size:20px;padding:4px;opacity:.6;transition:opacity .2s}.password-toggle[_ngcontent-%COMP%]:hover{opacity:1}.error-message[_ngcontent-%COMP%]{margin-top:6px;font-size:13px;color:#ef4444;animation:_ngcontent-%COMP%_slideDown .2s ease}.forgot-password[_ngcontent-%COMP%]{text-align:right;margin-bottom:24px}.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;color:#6366f1;text-decoration:none}.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.submit-button[_ngcontent-%COMP%]{width:100%;padding:14px;font-size:16px;font-weight:600;color:#fff;background:#6366f1;border:none;border-radius:8px;cursor:pointer;transition:all .2s;margin-bottom:24px}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#4f46e5;transform:translateY(-1px);box-shadow:0 4px 12px #6366f14d}.submit-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.signup-link[_ngcontent-%COMP%]{text-align:center}.signup-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:14px}.signup-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#6366f1;font-weight:600;text-decoration:none;margin-left:4px}.signup-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.branding-section[_ngcontent-%COMP%]{flex:1;background:linear-gradient(135deg,#667eea,#764ba2);display:none;align-items:center;justify-content:center;padding:60px;color:#fff}@media(min-width:768px){.branding-section[_ngcontent-%COMP%]{display:flex}}.branding-content[_ngcontent-%COMP%]{max-width:500px}.branding-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:36px;font-weight:700;margin-bottom:16px;line-height:1.2}.branding-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;margin-bottom:40px;opacity:.9;line-height:1.6}.features[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.feature[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:16px}.feature[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:24px;height:24px;background:#fff3;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media(max-width:767px){.login-container[_ngcontent-%COMP%]{background:#fff}.logo[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{font-size:24px}}']})};export{k as Login};
